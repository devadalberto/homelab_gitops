fullnameOverride: nextcloud

ingress:
  enabled: true
  className: traefik
  annotations:
    traefik.ingress.kubernetes.io/router.entrypoints: websecure
    traefik.ingress.kubernetes.io/router.tls: "true"
  tls:
    - secretName: nextcloud-tls
      hosts:
        - nextcloud.home.arpa

nextcloud:
  host: nextcloud.home.arpa
  username: ncadmin
  existingSecret:
    enabled: true
    name: ENC[AES256_GCM,data:ZnY1fssqJWAZDDu5OLS3,iv:/wjNjusdfxrcPFRTkTXCw7GEh6kNLr97Xi5ey8znYZQ=,tag:eVJZ7hq3Z+ESa2W8xNmU2w==,type:str]
    passwordKey: password

persistence:
  enabled: true
  existingClaim: nextcloud-data
  storageClass: ""
  accessMode: ReadWriteOnce
  size: 1Ti

externalDatabase:
  enabled: true
  type: postgresql
  host: postgresql.data.svc.cluster.local
  port: 5432
  user: nextcloud
  database: nextcloud
  existingSecret:
    enabled: true
    name: ENC[AES256_GCM,data:7SJUqd7tcItkz9JzB8KfNvDa,iv:n8vyO430ndhhtsPyt4MR0eNkSvNo1iI6OpzQcJIMems=,tag:qaA0Ktqn3kzEZoES393hgQ==,type:str]
    usernameKey: username
    passwordKey: password

externalRedis:
  enabled: true
  host: redis-master.data.svc.cluster.local
  port: "6379"
  existingSecret:
    enabled: true
    name: ENC[AES256_GCM,data:0XS/W/5AcAYhfdC77jC+,iv:+uUn5kydplu+nr2WcVOyoeHvW+IGcbb/hNLFQQodjiM=,tag:phq785hHGobwgJ5BYhtd/g==,type:str]
    passwordKey: password

mariadb:
  enabled: false
postgresql:
  enabled: false
redis:
  enabled: false

resources:
  requests:
    cpu: 500m
    memory: 1Gi
  limits:
    cpu: 2000m
    memory: 4Gi

phpConfigs:
  uploads.ini: |-
    upload_max_filesize = 10G
    post_max_size = 10G

podSecurityContext:
  enabled: true
  fsGroup: 33
containerSecurityContext:
  enabled: true
  runAsUser: 33
  runAsGroup: 33
  runAsNonRoot: true
